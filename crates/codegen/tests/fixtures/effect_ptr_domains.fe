use std::evm::{MemPtr, RawMem, RawStorage, StorPtr}

struct Foo {
    a: u256,
    b: u256,
}

fn bump() uses (mut foo: Foo) {
    foo.a = foo.a + 1
    foo.b = foo.b + 2
}

fn test_effect_ptr_domains() uses (mut st: RawStorage, mut mem: RawMem) {
    let mp: MemPtr<Foo> = mem.mem_ptr(0x100)
    with (mp) {
        bump()
    }

    let sp: StorPtr<Foo> = st.stor_ptr(0)
    with (sp) {
        bump()
    }

    let mut foo = Foo { a: 10, b: 20 }
    with (foo) {
        bump()
    }
}
